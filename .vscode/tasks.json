{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        // TASKS IN SRC FOLDER
        { // F5 in src
          "label": "Compile and install the library and compile all unit tests",
          "type": "shell",
          "command": "make all"
        },
        { // F6 in src
          "label": "Compile and install the library then execute one unit test",
          "type": "shell",
          "command": "./run_action.sh",
          "options": {
            "cwd": "${workspaceFolder}/.vscode"
          },
          "args": [ // debug_one_test.sh is customized by the user
              // example:  cd fileDirName && make install && make -C ../tests/core mytest.out
              "./debug_one_test.sh",
              "${fileDirname}",
              "${fileBasenameNoExtension}",
              "${lineNumber}",
              "recompile_optitrust_yes",
              ""
          ]
        },
        {
          "label": "Compile the library without installation tests",
          "type": "shell",
          "command": "make library"
        },
        {
          "label": "Compile and build everything",
          "type": "shell",
          "command": "make all",
          "options": {
            "cwd": "${workspaceFolder}/.vscode"
          }
        },
        {
          "label": "View state ",
          "type": "shell",
          "command": "./run_action.sh",
          "options": {
            "cwd": "${workspaceFolder}/.vscode"
          },
          "args": [
              "./view_result.sh",
              "${fileDirname}",
              "${fileBasenameNoExtension}",
              "${lineNumber}",
              "view_result",
              "recompile_optitrust_no",
              ""
          ]
        },
        {
          "label": "View diff",
          "type": "shell",
          "command": "./run_action.sh",
          "options": {
            "cwd": "${workspaceFolder}/.vscode"
          },
          "args": [
              "./view_result.sh",
              "${fileDirname}",
              "${fileBasenameNoExtension}",
              "${lineNumber}",
              "view_diff",
              "recompile_optitrust_no",
              ""
          ]
        },
        {
          "label": "Compile and run current",
          "type":"shell",
          "command":"./.vscode/run_make_foo.sh",
          "args": [
              "${fileDirname}",
              "${fileBasenameNoExtension}",
          ]
        },
        {
          "label": "Compile the full current folder",
          "type": "shell",
          "command": "make all",
          "options": {
            "cwd": "${fileDirname}"
          },
        },
        {
          "label": "Recompile and view state",
          "type": "shell",
          "command": "./run_action.sh",
          "options": {
            "cwd": "${workspaceFolder}/.vscode"
          },
          "args": [
              "./view_result.sh",
              "${fileDirname}",
              "${fileBasenameNoExtension}",
              "${lineNumber}",
              "view_result",
              "recompile_optitrust_yes",
              ""
          ]
        },
        {
          "label": "Recompile and view diff",
          "type": "shell",
          "command": "./run_action.sh",
          "options": {
            "cwd": "${workspaceFolder}/.vscode"
          },
          "args": [
              "./view_result.sh",
              "${fileDirname}",
              "${fileBasenameNoExtension}",
              "${lineNumber}",
              "view_diff",
              "recompile_optitrust_yes",
              ""
          ]
        },
        {
          "label": "Recompile then compile and run current",
          "type":"shell",
          "command":"make optitrust && ./.vscode/run_make_foo.sh",
          "args": [
              "${fileDirname}",
              "${fileBasenameNoExtension}",
          ]
        },
        {
          "label": "Compile the full current folder",
          "type": "shell",
          "command": "make optitrust && make all",
          "options": {
            "cwd": "${fileDirname}"
          },
        },
        {
          "label": "Start the inotifywait watch",
          "type": "shell",
          "command": "./.vscode/watch.sh "
        },
        {
            "label": "Execute transformation script (dump trace)",
            "type": "shell",
            "command": "./.vscode/view_result.sh",
            "args": [
                "${fileDirname}",
                "${fileBasenameNoExtension}",
                "${lineNumber}",
                "-dump-trace"
            ]
        }

    ]
}
